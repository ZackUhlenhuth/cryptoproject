extends layout

block header
    script(src='/javascripts/third_party/wysiwyg.js')
    script(src='/javascripts/third_party/wysiwyg-editor.js')
    link(rel='stylesheet', href='/stylesheets/wysiwyg-editor.css')
    script(src='/javascripts/posts.js')
    script.
        var csrf=!{JSON.stringify(csrf)}
        $(document).ready(function(){
            $('#messageContent').notebook();
        });

block content
    include _menu
    .container
        .row#content
        .row#one-pane
        .row#two-pane
            .col-sm-6#left-pane
            .col-sm-6#right-pane

        div#createPost.modal.fade
            div.modal-dialog
                    div.modal-content
                        div.modal-header
                            button.close(type="button", data-dismiss="modal")
                                span(aria-hidden="true") &times;
                            h4.modal-title Create Secret Message
                        div.modal-body
                            form#dialogForm.form(role="form")
                                div.form-group
                                    label(for="title") Title  
                                    input#messageTitle.form-control(type='text', name='title', placeholder="Title of Message", tabindex="-1")
                                div.form-group
                                    label(for="content") Content  
                                    div#messageContent
                                div.form-group
                                    label(for="password") Password  
                                    input#messagePassword.form-control(type='text', name='password', placeholder="Password", tabindex="-1")
                        div.modal-footer
                            button.btn.btn-default(data-dismiss="modal") Close
                            button#saveMessage.btn.btn-primary Save Message


        div#decryptPost.modal.fade
            div.modal-dialog
                    div.modal-content
                        div.modal-header
                            button.close(type="button", data-dismiss="modal")
                                span(aria-hidden="true") &times;
                            h4.modal-title Decrypt Secret Message
                        div.modal-body
                            div#decryptSuccess.alert.alert-success.alert-dismissible(role="alert") Successfully Decrypted Message!
                                button.close(type="button" data-dismiss="alert" aria-label="Close")
                                    span(aria-hidden="true") &times;
                            div#ciphertextInfo
                                label Ciphertext
                                p#ciphertext
                            form#passwordForm.form(role="form")
                                div#decrypter.form-group
                                    label(for="password") Password  
                                    input#decryptPassword.form-control(type='text', name='password', placeholder="Password", tabindex="-1")
                                div#macDisplay.form-group
                                    label(for="oldmac") MAC
                                    input#oldMAC.form-control(type='text', name='mac', placeholder="MAC", tabindex="-1")
                                div#plaintext
                                    label(for="content") Unencrypted Content
                                    input#unencryptedContent.form-control(type='text', name='plaintext', placeholder="Plaintext", tabindex="-1")
                            div
                               p#macComparison 
                        div.modal-footer
                            button.btn.btn-default(data-dismiss="modal") Close
                            button#checkMAC.btn.btn-info Check MAC
                            button#decryptMessage.btn.btn-success Decrypt Message
                            button#saveNewMessage.btn.btn-primary Save Message


